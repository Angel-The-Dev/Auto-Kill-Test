local MainWindow = loadstring(game:HttpGet("https://raw.githubusercontent.com/lkjhg969/cracked/refs/heads/main/scp/libcreck.luau", true))():AddWindow("                                   RK SCRIPT PAID | PUBLIC ", {
    main_color = Color3.fromRGB(170, 150, 85),
    min_size = Vector2.new(600, 400),
    can_resize = false,
    scrollable = true
})

local InfoTab = MainWindow:AddTab("INFO")
InfoTab:AddLabel("ðŸ“œ INFO About The Script")
InfoTab:AddLabel("WELCOME TO RK HUB")
InfoTab:AddLabel("ðŸ‘‘ OWNER OF THIS SCRIPT xXD3ATHKINGXx & Angel")
InfoTab:AddLabel("Script Made By |", {
    TextColor3 = Color3.fromRGB(255, 255, 255)
})
local OwnerLabel = InfoTab:AddLabel("xXD3ATHKINGXx & Angel")

-- Rainbow effect for Owner Label
task.spawn(function()
    while true do
        OwnerLabel.TextColor3 = Color3.fromHSV(tick() * 0.22 % 1, 0.8, 1)
        task.wait(0.02)
    end
end)

InfoTab:AddLabel("Thank you for using our script")
InfoTab:AddLabel("Invite Link")
InfoTab:AddLabel("  INVITE LINK TO OUR DISCORD SERVER")
InfoTab:AddButton("Copy Discord Invite", function()
    setclipboard("https://discord.gg")
end)

local FastTab = MainWindow:AddTab("Farming") -- Added 'local'

local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")
local VirtualInputManager = game:GetService("VirtualInputManager")
local player = Players.LocalPlayer

-- Function to unequip all pets
local function unequipAll()
    local petsFolder = player:WaitForChild("petsFolder")
    for _, folder in pairs(petsFolder:GetChildren()) do
        if folder:IsA("Folder") then
            for _, pet in pairs(folder:GetChildren()) do
                ReplicatedStorage.rEvents.equipPetEvent:FireServer("unequipPet", pet)
            end
        end
    end
    task.wait(0.1)
end

-- Function to equip a specific pet by name
local function equipPet(petName)
    unequipAll()
    task.wait(0.01)
    local uniquePets = player.petsFolder:WaitForChild("Unique")
    for _, pet in pairs(uniquePets:GetChildren()) do
        if pet.Name == petName then
            ReplicatedStorage.rEvents.equipPetEvent:FireServer("equipPet", pet)
        end
    end
end

-- Find a machine by name in workspace
local function getMachine(name)
    local machine = workspace:WaitForChild("machinesFolder"):FindFirstChild(name)
    if not machine then
        for _, folder in pairs(workspace:GetChildren()) do
            if folder:IsA("Folder") and folder.Name:find("machines") then
                machine = folder:FindFirstChild(name)
                if machine then break end
            end
        end
    end
    return machine
end

-- Main Farming Loop
task.spawn(function()
    while true do
        local rebirths = player.leaderstats.Rebirths.Value
        local targetStrength = 10000 + (5000 * rebirths) 
        
        -- Apply Golden Rebirth reduction
        if player:WaitForChild("ultimatesFolder"):FindFirstChild("Golden Rebirth") then
            local x = player.ultimatesFolder["Golden Rebirth"].Value
            targetStrength = math.floor(targetStrength * (1 - (x * 0.1)))
        end

        unequipAll()
        task.wait(0.1)
        equipPet("Swift Samurai")

        -- Training loop
        while player.leaderstats.Strength.Value < targetStrength do
            for i = 1, 10 do
                player.muscleEvent:FireServer("rep")
            end
            task.wait()
        end

        unequipAll()
        task.wait(0.1)
        equipPet("Tribal Overlord")

        -- Interaction logic for machines
        local machine = getMachine("Jungle Bar Lift")
        if machine and machine:FindFirstChild("interactSeat") then
            player.Character.HumanoidRootPart.CFrame = machine.interactSeat.CFrame * CFrame.new(0, 3, 0)
            
            repeat 
                task.wait(0.1)
                -- VirtualInputManager works in most executors to simulate 'E'
                VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.E, false, game)
                task.wait(0.1)
                VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.E, false, game)
            until player.Character.Humanoid.Sit
        end

        -- Rebirth logic
        local currentRebirths = player.leaderstats.Rebirths.Value
        repeat 
            ReplicatedStorage.rEvents.rebirthRemote:InvokeServer("rebirthRequest")
            task.wait(0.1)
        until player.leaderstats.Rebirths.Value > currentRebirths
        
        task.wait()
    end
end)
